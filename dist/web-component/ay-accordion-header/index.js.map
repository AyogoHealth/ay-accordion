{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/web-component/ay-accordion-header/index.ts"],"names":[],"mappings":"AAAA,uCAAuC;AACvC;;;;;;;;;;;;;;GAcG;AAEH,MAAM,uBAAuB,GAAsC,IAAI,OAAO,EAAE,CAAC;AACjF,MAAM,uBAAuB,GAA0D,IAAI,OAAO,EAAE,CAAC;AAErG,MAAM,OAAO,iBAAkB,SAAQ,WAAW;IAEhD,iBAAiB;QAEf,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;QACpC,IAAI,CAAC,YAAY,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;QAEnC,MAAM,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAgB,CAAC;QAEpE,IAAI,eAAe,CAAC,YAAY,CAAC,UAAU,CAAC,EAAC;YAC3C,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;SAC5C;aAAM;YACL,IAAI,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;SAC7C;QAED,MAAM,aAAa,GAAG,GAAG,EAAE;YACzB,MAAM,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAgB,CAAC;YACpE,eAAe,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;QACrD,CAAC,CAAC;QAEF,MAAM,aAAa,GAAG,CAAC,KAAoB,EAAE,EAAE;YAC7C,MAAM,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,cAAc,CAAgB,CAAC;YACpE,IAAI,KAAK,CAAC,OAAO,KAAK,EAAE,IAAI,KAAK,CAAC,OAAO,KAAK,EAAE,EAAE;gBAChD,eAAe,CAAC,aAAa,CAAC,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC;aACpD;QACH,CAAC,CAAC;QAEF,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;QAC9C,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;QAEhD,uBAAuB,CAAC,GAAG,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;QACjD,uBAAuB,CAAC,GAAG,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;IAEnD,CAAC;IAGD,oBAAoB;QAElB,IAAI,uBAAuB,CAAC,GAAG,CAAC,IAAI,CAAC,EAAC;YACpC,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,uBAAuB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;SACxE;QAED,IAAI,uBAAuB,CAAC,GAAG,CAAC,IAAI,CAAC,EAAC;YACpC,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE,uBAAuB,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;SACtE;QACD,uBAAuB,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACrC,uBAAuB,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IACvC,CAAC;CACF;AAED,IAAI,MAAM,CAAC,cAAc,EAAE;IACzB,cAAc,CAAC,MAAM,CAAC,qBAAqB,EAAE,iBAAiB,CAAC,CAAC;CACjE","sourcesContent":["/*! Copyright 2019 Ayogo Health Inc. */\n/**\n *\n *\n * ay-accordion-header acts as a button for its first parent ay-accordion element thereby enabling the toggle functionality\n *\n * For example:\n * ```\n * <ay-accordion-header>\n *  Button Name\n * </ay-accordion-header>\n * ```\n *\n * @name ay-accordion-header\n *\n */\n\nconst accordionHeaderClickMap : WeakMap<HTMLElement, () => void> = new WeakMap();\nconst accordionHeaderPressMap : WeakMap<HTMLElement, (event: KeyboardEvent) => void> = new WeakMap();\n\nexport class AyAccordionHeader extends HTMLElement {\n\n  connectedCallback() {\n\n    this.setAttribute('role', 'button');\n    this.setAttribute('tabIndex', '0');\n\n    const ayAccordionElem = this.closest('ay-accordion') as HTMLElement;\n\n    if (ayAccordionElem.hasAttribute('disabled')){\n      this.setAttribute('aria-disabled', 'true');\n    } else {\n      this.setAttribute('aria-disabled', 'false');\n    }\n\n    const toggleOnClick = () => {\n      const ayAccordionElem = this.closest('ay-accordion') as HTMLElement;\n      ayAccordionElem.dispatchEvent(new Event('toggle'));\n    };\n\n    const toggleOnPress = (event: KeyboardEvent) => {\n      const ayAccordionElem = this.closest('ay-accordion') as HTMLElement;\n      if (event.keyCode === 32 || event.keyCode === 13) {\n        ayAccordionElem.dispatchEvent(new Event('toggle'));\n      }\n    };\n\n    this.addEventListener('click', toggleOnClick);\n    this.addEventListener('keydown', toggleOnPress);\n\n    accordionHeaderClickMap.set(this, toggleOnClick);\n    accordionHeaderPressMap.set(this, toggleOnPress);\n\n  }\n\n\n  disconnectedCallback() {\n\n    if (accordionHeaderPressMap.has(this)){\n      this.removeEventListener('keydown', accordionHeaderPressMap.get(this));\n    }\n\n    if (accordionHeaderClickMap.has(this)){\n      this.removeEventListener('click', accordionHeaderClickMap.get(this));\n    }\n    accordionHeaderClickMap.delete(this);\n    accordionHeaderPressMap.delete(this);\n  }\n}\n\nif (window.customElements) {\n  customElements.define('ay-accordion-header', AyAccordionHeader);\n}\n\n"]}