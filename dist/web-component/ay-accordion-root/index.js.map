{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/web-component/ay-accordion-root/index.ts"],"names":[],"mappings":"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","sourcesContent":["/*! Copyright 2019 - 2023 Ayogo Health Inc. */\n\nconst useClipPath = window.CSS && window.CSS.supports && window.CSS.supports('clip-path', 'inset(0px 0px 0px 0px)');\n\nfunction run (fn, accordion : HTMLElement) {\n  const root = accordion.closest('ay-accordion-root') as HTMLElement;\n  const elementsToWatch = Array.prototype.filter.call(root.childNodes, function(el) {\n    return el.nodeType === 1;\n  });\n\n  const preRoot = root.getBoundingClientRect();\n\n  // Take initial measurements\n  const measurements = Array.prototype.map.call(elementsToWatch, function(el) {\n    return {\n      el: el,\n      initialDimensions:  el.getBoundingClientRect(),\n      initialTransform:   el.style.transform || ''\n    };\n  });\n\n  root.style.minHeight = preRoot.height + 'px';\n\n  const initiallyOpen = [];\n  root.querySelectorAll('ay-accordion').forEach((acc) => {\n    if (acc.hasAttribute('open')) {\n      initiallyOpen.push(acc);\n\n      if (!root.hasAttribute('multiple') && acc !== accordion) {\n        //Close existing panels if needed\n        acc.removeAttribute('open');\n      }\n    }\n  });\n\n  //Run the function to change the state\n  fn();\n\n  Array.prototype.forEach.call(measurements, function(m) {\n    m.newDimensions = m.el.getBoundingClientRect();\n\n    m.newScale = {\n      x: m.initialDimensions.width / m.newDimensions.width,\n      y: m.initialDimensions.height / m.newDimensions.height\n    };\n\n    m.clipSize = {\n      x: m.newDimensions.width - m.initialDimensions.width,\n      y: m.newDimensions.height - m.initialDimensions.height\n    };\n\n    m.newOffset = {\n      x: m.initialDimensions.left - m.newDimensions.left,\n      y: m.initialDimensions.top - m.newDimensions.top\n    };\n    m.deltaOffset = {\n      x: 0,\n      y: 0\n    };\n\n    if (m.initialDimensions.height !== m.newDimensions.height ||\n        m.initialDimensions.width  !== m.newDimensions.width  ||\n        m.initialDimensions.left   !== m.newDimensions.left   ||\n        m.initialDimensions.top    !== m.newDimensions.top) {\n      m.el.style.transformOrigin = \"0 0\";\n      m.el.style.willChange = useClipPath ? 'transform, clip-path' : 'transform';\n    }\n\n    m.children = [];\n\n    // Set the grandchildren to the inverse transform\n    if (m.initialDimensions.height !== m.newDimensions.height ||\n      m.initialDimensions.width  !== m.newDimensions.width) {\n\n      m.children = Array.prototype.filter.call(m.el.childNodes, function(el) {\n        return el.nodeType === 1;\n      });\n\n      if (!useClipPath) {\n        Array.prototype.forEach.call(m.children, function(el) {\n          if (m.clipSize.x > 0 || m.clipSize.y > 0) {\n            var elDimensions = el.getBoundingClientRect();\n            var offsetFromParent = {\n              x: m.newDimensions.left - elDimensions.left,\n              y: m.newDimensions.top  - elDimensions.top\n            };\n\n            var origin = offsetFromParent.x + 'px ';\n            origin += offsetFromParent.y + 'px';\n\n            el.style.transformOrigin = origin;\n          } else {\n            el.style.transformOrigin = '0 0';\n          }\n          el.style.willChange = 'transform';\n        });\n      }\n    }\n  });\n\n  const toClose = [];\n  initiallyOpen.forEach((el) => {\n    if (!el.hasAttribute('open')) {\n      toClose.push(el);\n      el.setAttribute('open', '');\n    }\n  });\n\n  if (toClose.length > 0) {\n    Array.prototype.forEach.call(measurements, function(m) {\n      const curDimensions = m.el.getBoundingClientRect();\n\n      if (Math.max(curDimensions.left, m.initialDimensions.left) > m.newDimensions.left) {\n        m.deltaOffset.x = m.newDimensions.left - curDimensions.left;\n      }\n      if (Math.max(curDimensions.top, m.initialDimensions.top) > m.newDimensions.top) {\n        m.deltaOffset.y = m.newDimensions.top - curDimensions.top;\n      }\n    });\n  }\n\n  var duration = 250; // In milliseconds\n  var t = 1;\n\n  function tween() {\n    Array.prototype.forEach.call(measurements, function(m) {\n      if (m.initialDimensions.height === m.newDimensions.height &&\n          m.initialDimensions.width  === m.newDimensions.width  &&\n          m.initialDimensions.left   === m.newDimensions.left   &&\n          m.initialDimensions.top    === m.newDimensions.top) {\n        return;\n      }\n\n      if (m.clipSize.x < 0 || m.clipSize.y < 0) {\n        var tScaleX   = 1/(1 + (m.newScale.x - 1) * (1.0 - t));\n        var tScaleY   = 1/(1 + (m.newScale.y - 1) * (1.0 - t));\n        var tClipX = Math.abs(m.clipSize.x) * (1.0 - t);\n        var tClipY = Math.abs(m.clipSize.y) * (1.0 - t);\n      } else {\n        var tScaleX   = 1 + (m.newScale.x - 1) * t;\n        var tScaleY   = 1 + (m.newScale.y - 1) * t;\n        var tClipX = m.clipSize.x * t;\n        var tClipY = m.clipSize.y * t;\n      }\n\n      var tOffsetX  = m.deltaOffset.x + (m.newOffset.x * t);\n      var tOffsetY  = m.deltaOffset.y + (m.newOffset.y * t);\n\n      var transform = 'translate(';\n      transform += tOffsetX + 'px, ';\n      transform += tOffsetY + 'px) ';\n      if (!useClipPath) {\n        transform += 'scale(' + tScaleX + ',' + tScaleY + ') ';\n      }\n      transform += m.initialTransform;\n\n      m.el.style.transform = transform;\n\n      if (!useClipPath) {\n        Array.prototype.forEach.call(m.children, function(el) {\n          var scale = 'scale(' + (1/tScaleX) + ',' + (1/tScaleY) + ')';\n          el.style.transform = scale;\n        });\n      } else {\n        m.el.style.clipPath = 'inset(0px ' + tClipX + 'px ' + tClipY + 'px 0px)';\n      }\n    });\n\n    t -= (16 / duration);\n\n    if (t > 0) {\n      requestAnimationFrame(tween);\n    } else {\n      cleanup();\n    }\n  }\n\n  tween();\n\n  function cleanup() {\n    Array.prototype.forEach.call(measurements, function(m) {\n      m.el.style.transformOrigin = '';\n      m.el.style.transform = m.initialTransform;\n      m.el.style.willChange = '';\n      m.el.style.clipPath = '';\n\n      Array.prototype.forEach.call(m.children, function(el) {\n        el.style.transformOrigin = '';\n        el.style.transform = '';\n        el.style.willChange = '';\n      });\n    });\n\n    root.style.minHeight = null;\n\n    var scrollingRoot = document.scrollingElement || document.body;\n    var pageBottom = scrollingRoot.scrollTop + scrollingRoot.clientHeight;\n    var lastChild = measurements.pop();\n    if (lastChild.initialDimensions.height !== lastChild.newDimensions.height && (pageBottom - lastChild.initialDimensions.bottom < lastChild.initialDimensions.height)) {\n      window.scrollBy(0, (lastChild.newDimensions.height - lastChild.initialDimensions.height));\n    }\n\n    toClose.forEach((el) => {\n      el.removeAttribute('open');\n    });\n  }\n\n}\n\n/**\n * ay-accordion-root is a web-component which wraps the ay-accordion elements as its children.\n *\n * ay-accordion-root can take on the following attributes\n * multiple: This attribute allows multiple accordion sections to be open at the same time (default is only a single section expanded at a time).\n *\n * For example:\n * ```\n * <ay-accordion-root>\n *  <ay-accordion>\n *   <ay-accordion-header>\n *     Button Name\n *    </ay-accordion-header>\n *    <p> Some content </p>\n *  </ay-accordion>\n * </ay-accordion-root>\n * ```\n *\n * @name ay-accordion-root\n */\nexport class AyAccordionRoot extends HTMLElement { }\n\nif (window.customElements) {\n  customElements.define('ay-accordion-root', AyAccordionRoot);\n}\n\nexport { run };\n"]}